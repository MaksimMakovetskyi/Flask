# Домашнее задание к лекции «Flask»

## Задание 1

Вам нужно написать REST API (backend) для сайта объявлений.

Должны быть реализованы методы создания/удаления/редактирования объявления.    

У объявления должны быть следующие поля: 
- заголовок
- описание
- дата создания
- владелец

Результатом работы является API, написанное на Flask.

Этапы выполнения задания:

1. Сделайте роут на Flask.
2. POST метод должен создавать объявление, GET - получать объявление, DELETE - удалять объявление.

## Задание 2 *(не обязательное)

Добавить систему прав.

Создавать объявление может только авторизованный пользователь.
Удалять/редактировать может только владелец объявления.
В таблице с пользователями должны быть как минимум следующие поля: идентификатор, почта и хэш пароля.


## Как сдавать задачи

1. Инициализируйте на своём компьютере пустой Git-репозиторий
2. Добавьте в этот же каталог необходимые файлы
3. Сделайте необходимые коммиты
4. Создайте публичный репозиторий на GitHub и свяжите свой локальный репозиторий с удалённым
5. Сделайте пуш (удостоверьтесь, что ваш код появился на GitHub)
6. Ссылку на ваш проект отправьте в личном кабинете на сайте [netology.ru](http://netology.ru/)
7. Задачи, отмеченные как необязательные, можно не сдавать, это не повлияет на получение зачета (в этом ДЗ все задачи являются обязательными)
8. Любые вопросы по решению задач задавайте в чате Slack, но мы не сможем проверить или помочь, если вы пришлете:
* архивы;
* скриншоты кода;
* теоретический рассказ о возникших проблемах.


# Домашнее задание к лекции «Docker»

## Задание 1

По аналогии с практикой из лекции создайте свой docker image с http сервером nginx. Замените страницу приветсвия Nginx на своё (измените текст приветствия на той же странице).

<details><summary>Подсказки: </summary>  
В официальном образе nginx стандартный путь к статичным файлам `/usr/share/nginx/html`.  
</details>

На проверку присылается GitHub репозиторий с Dockerfile и статичными файлами для него.

> Для пользовательского html можно использовать пример в [каталоге](html/) с ДЗ.

## Задание 2

Создайте контейнер для REST API сервера из решения ДЗ по теме «Flask»

1. Создайте типовой Docker-файл для запуска Python-приложения
2. Проверьте конфигурацию Flask на использование переменных окружения (environment)
3. Проверьте Docker-файл на передачу переменных окружения в Flask
4. Docker-контейнер запускается с приложением Flask

<details><summary>Подсказки: </summary>  
  1. Хорошим тоном будет пример команд с последовательным запуском контейнеров и объединением их в сеть для БД и Flask.  
  2. В качестве простого решения можно подключаться к БД на локальной хост машине.  
</details>

- Приложите в репозиторий Dockerfile и файлы приложения.
- В Readme.md описать типовые команды для запуска контейнера c backend сервером.

## Задание 3 \*(не обязательное)

Создать конфигурацию для последовательного запуска 3-х контейнеров: flask, postgres, nginx.  
 Контейнеры объединяются в сеть, которые работают в связке:

- Nginx работает в качестве proxy-http для пересылки динамических запросов к Flask или возвращая статические html файлы.
- PostgreSQL запускается до Flask, т.к. rest api может зависетьот БД.
- Flask запускается через Gunicorn, отвечая http клиенту через Nginx.

В Readme.md перечислить команды для запуска или описать конфигурацию `docker-compose.yml` для запуска одной командой.

Полезные материалы для Задания 3:

- [Введение в docker-compose](https://dker.ru/docs/docker-compose/getting-started/)
- https://the-bosha.ru/2017/01/04/zapusk-flask-prilozheniia-c-uwsgi-virtualenv-i-nginx/
- https://habr.com/ru/post/352266/ `Темы Настройка Gunicorn и Supervisor` и `Настройка Nginx`
- https://www.digitalocean.com/community/tutorials/how-to-serve-flask-applications-with-gunicorn-and-nginx-on-ubuntu-18-04-ru